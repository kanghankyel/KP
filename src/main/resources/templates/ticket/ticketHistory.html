<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<body>
    <div th:include="/fragment/head"></div>
    <div th:include="/fragment/header"></div>
    <div th:include="/fragment/nav"></div>

    <div class="content">
        <div class="image_banner">
            <div class="ticket_banner">
                <h1>티 &nbsp; 켓 &nbsp; 구 &nbsp; 매 &nbsp; 내 &nbsp; 역</h1>
            </div>
        </div>
        <div class="inner">
            <h2>티켓구매내역</h2>
            <hr>
            <table>
                <tr>
                    <th>티켓번호</th>
                    <th>유저번호</th>
                    <th>티켓종류</th>
                    <th>이름</th>
                    <th>구매처</th>
                    <th>사용장소</th>
                    <th>구매일자</th>
                    <th>사용일자</th>
                    <th>사용유무</th>
                </tr>
                <tr th:each="ticket : ${ticket}" th:if="${ticket.uNum == #authentication.principal.member.uNum}">
                    <td><div th:text="${ticket.tNum}"></div></td>
                    <td><div th:text="${ticket.uNum}"></div></td>
                    <td><div th:text="${ticket.tType}"></div></td>
                    <td><div th:text="${ticket.uName}"></div></td>
                    <td><div th:text="${ticket.market}"></div></td>
                    <td><div th:text="${ticket.tArea}"></div></td>
                    <td><div th:text="${ticket.sellDate}"></div></td>
                    <td><div th:text="${ticket.useDate}"></div></td>
                    <td><div th:text="${ticket.used}"></div></td>
                </tr>
                <tr th:each="ticket : ${ticket}" th:if="${#strings.isEmpty(ticket)}">
                    <td colspan="9">구매한 티켓이 없습니다.</td>
                </tr>
            </table>
        </div>
    </div>
    
    <div th:include="/fragment/footer"></div>


</body>
</html>